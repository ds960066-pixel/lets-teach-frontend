<!DOCTYPE html>
<html>
<head>
  <title>Teacher Chat | Lets Teach</title>
</head>
<body>

<h2>Teacher Chat</h2>

<input id="teacherUid" placeholder="Teacher UID" value="demof12345"><br><br>
<input id="instituteUid" placeholder="Institute UID"><br><br>

<textarea id="message" placeholder="Type message"></textarea><br><br>
<button onclick="sendMessage()">Send</button>

<h3>Chat</h3>
<ul id="chatBox"></ul>

<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script>
  const params = new URLSearchParams(window.location.search);
  const roomId = params.get("roomId");
  const me = params.get("me");

  const socket = io("https://YOUR_BACKEND_RENDER_URL"); // yahan apna backend url

  socket.emit("joinRoom", roomId);

  function sendMessage() {
    const text = document.getElementById("message").value;
    if (!text) return;

    socket.emit("sendMessage", {
      roomId,
      senderUid: me,
      receiverUid: "auto",
      text
    });

    document.getElementById("message").value = "";
  }

  socket.on("receiveMessage", (msg) => {
    const box = document.getElementById("chatBox");
    const div = document.createElement("div");
    div.innerText = msg.senderUid + ": " + msg.text;
    box.appendChild(div);
  });
</script>

</body>
</html>
